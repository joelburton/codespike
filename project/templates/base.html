{% extends 'bootstrap4/bootstrap4.html' %}

{% load bootstrap4 static %}

{% block bootstrap4_title %}
  {% block page_title %}{% endblock %}{% endblock %}

{% block bootstrap4_extra_head %}

{#  <link rel='shortcut icon' type='image/x-icon' href='/static/favicon.ico'/>#}
{#  <link rel="icon" type="image/png" href="/static/favicon.png"/>#}
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">

  {% block extra_head %}
  {% endblock %}

{% endblock %}


{% block bootstrap4_content %}

  {% block navbar %}
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
      <a class="navbar-brand" href="/">
      ðŸ¦” CodeSpike
      </a>

      <button class="navbar-toggler" type="button" data-toggle="collapse"
              data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
              aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">

          {#      <li class="nav-item active">#}
          {#        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>#}
          {#      </li>#}

          <li class="nav-item">
            <a class="nav-link" href="#">Quizzes</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#">My Problems</a>
          </li>

        </ul>
        <ul class="navbar-nav mr-0">

          {% if user.is_authenticated %}
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                {{ request.user }}
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
{#                <a class="dropdown-item"#}
{#                   href="{% url 'user_profile' pk=user.username %}">Profile</a>#}
{#                <a class="dropdown-item" href="{% url 'password_change' %}">Change password</a>#}
                {% if user.is_staff %}
                  <div class="dropdown-divider"></div>
                  <h6 class="dropdown-header">Staff only areas:</h6>
                  <a class="dropdown-item" href="/rainbow/">Rainbow chart</a>
                  <a class="dropdown-item" href="/students/-staff/">Cohort dashboard</a>
                  <a class="dropdown-item" href="/admin/">Site admin</a>
                  {% if user.is_superuser %}
                    <a class="dropdown-item" href="/explorer/">SQL explorer</a>
                  {% endif %}
                {% endif %}
                <div class="dropdown-divider"></div>
{#                <a class="dropdown-item" href="{% url 'logout' %}">Log out</a>#}
              </div>
            </li>
          {% endif %}
        </ul>

        {#    <form class="form-inline my-2 my-lg-0">#}
        {#      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">#}
        {#      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>#}
        {#    </form>#}
      </div>


      {#      <form class="navbar-right" action="{% url 'watson:search' %}">#}
      {#        <input name="q" value="{{request.GET.q}}">#}
      {#        <input type="submit" value="Search">#}
      {#      </form>#}
    </nav>
  {% endblock %}

  <div class="mb-5 container" style="margin-top: 100px;">
    {% bootstrap_messages %}

    {% block content %}
    {% endblock %}
  </div>

  <footer class="page-footer">
    <div class="container">
      CodeSpike is Â© Joel Burton and contributors.
      <span class="d-none d-sm-inline">
      {{ fortune }}
      </span>
    </div>
  </footer>



  <!-- TIMING HERE -->

{% endblock %}

{% block bootstrap4_extra_script %}{% block extra_script %}{% endblock %}{% endblock %}
